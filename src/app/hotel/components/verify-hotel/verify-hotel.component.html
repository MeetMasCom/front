<app-menuadmin></app-menuadmin>
<div class="d-flex flex-column mt-5 pt-5">
  <div
    class="d-flex flex-column container justify-content-start mt-4"
    style="min-height: 35vw"
  >
    <ul class="nav nav-tabs mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="pills-home-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-home"
          type="button"
          role="tab"
          aria-controls="pills-home"
          aria-selected="true"
        >
          Validar Hotel
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-profile-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-profile"
          type="button"
          role="tab"
          aria-controls="pills-profile"
          aria-selected="false"
        >
          Validar Políticas
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-valid-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-valid"
          type="button"
          role="tab"
          aria-controls="pills-valid"
          aria-selected="false"
        >
          Hoteles Validados
        </button>
      </li>
    </ul>

    <div class="tab-content" id="pills-tabContent">
      <!--HOTELES A VALIDAR-->
      <div
        class="tab-pane fade show active"
        id="pills-home"
        role="tabpanel"
        aria-labelledby="pills-home-tab"
      >
        <ng-container *ngIf="hotel?.length > 0">
          <div class="table-responsive">
            <table aria-describedby="" class="table text-center">
              <thead>
                <tr>
                  <th scope="col">Nombre</th>
                  <th scope="col">Pais</th>
                  <th scope="col">Ciudad</th>
                  <th scope="col">Gerente</th>
                  <th scope="col">RUC</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let h of hotel; index as i">
                  <tr>
                    <td>{{ h.name }}</td>
                    <td>{{ h.country }}</td>
                    <td>{{ h.city }}</td>
                    <td>{{ h.manager }}</td>
                    <td>
                      <button (click)="download(h.doc)">
                        <fa-icon
                          class="fa-light fa-file-pdf fa-2xl"
                          [icon]="faFile"
                        ></fa-icon>
                      </button>
                    </td>
                    <td>
                      <button
                        class="btn"
                        style="background-color: #f9a21e"
                        (click)="detalleh(h._id)"
                      >
                        Detalles
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </ng-container>
        <ng-container *ngIf="hotel.length === 0">
          <div class="d-flex justify-content-center" style="min-height: 30vw">
            <Span>No existen hoteles por verificar</Span>
          </div>
        </ng-container>
      </div>

      <!--TODOS LOS HOTELES-->

      <div
        class="tab-pane fade"
        id="pills-profile"
        role="tabpanel"
        aria-labelledby="pills-profile-tab"
      >
        <ng-container *ngIf="hotelVerify?.length > 0">
          <div class="table-responsive">
            <table aria-describedby="" class="table text-center">
              <thead>
                <tr>
                  <th scope="col">Nombre</th>
                  <th scope="col">Pais</th>
                  <th scope="col">Ciudad</th>
                  <th scope="col">Gerente</th>
                  <th scope="col">RUC</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let h of hotelVerify; index as i">
                  <tr>
                    <td>{{ h.name }}</td>
                    <td>{{ h.country }}</td>
                    <td>{{ h.city }}</td>
                    <td>{{ h.manager }}</td>
                    <td class="text-center">
                      <button (click)="download(h.doc)">
                        <fa-icon
                          class="fa-light fa-file-pdf fa-2xl"
                          [icon]="faFile"
                        ></fa-icon>
                      </button>
                    </td>
                    <td class="text-center">
                      <button
                        class="btn"
                        style="background-color: #f9a21e"
                        (click)="detalleh(h._id)"
                      >
                        Detalles
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </ng-container>
        <ng-container *ngIf="this.hotelVerify.length === 0">
          <div class="d-flex justify-content-center" style="min-height: 30vw">
            <Span>No existen hoteles por verificar</Span>
          </div>
        </ng-container>
      </div>

      <!--todos los hoteles validados-->
      <div
        class="tab-pane fade show active"
        id="pills-valid"
        role="tabpanel"
        aria-labelledby="pills-valid-tab"
      >
        <ng-container *ngIf="allhotel?.length > 0">
          <div class="table-responsive">
            <table aria-describedby="" class="table text-center">
              <thead>
                <tr>
                  <th scope="col">Nombre</th>
                  <th scope="col">Pais</th>
                  <th scope="col">Ciudad</th>
                  <th scope="col">Gerente</th>
                  <th scope="col">RUC</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let h of allhotel; index as i">
                  <tr>
                    <td>{{ h.name }}</td>
                    <td>{{ h.country }}</td>
                    <td>{{ h.city }}</td>
                    <td>{{ h.manager }}</td>
                    <td>
                      <button (click)="download(h.doc)">
                        <fa-icon
                          class="fa-light fa-file-pdf fa-2xl"
                          [icon]="faFile"
                        ></fa-icon>
                      </button>
                    </td>
                    <td>
                      <button
                        class="btn"
                        style="background-color: #f9a21e"
                        (click)="detalleh(h._id)"
                      >
                        Detalles
                      </button>
                      <button type="button" class="btn btn-outline-danger mx-2">
                        Deshabilitar
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </ng-container>
        <ng-container *ngIf="hotel.length === 0">
          <div class="d-flex justify-content-center" style="min-height: 30vw">
            <Span>No existen hoteles por verificar</Span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>


  <!--Detalle del hotel a validar-->
  <app-mmodal
    [idModal]="'detalleHotel'"
    [tipo]="6"
    [title]="'Detalle Hotel'"
    [hotel]="dataHotel"
    [policies]="dataPolicies"
    (onValidateHotel)="validateHotel($event)"
    (onDeclineHotel)="declineHotel($event)"
    (onDownloadDoc)="downloadPDF($event)"
    (onVPolicies)="getPoliticas($event)"
    #detalleHotel
  >
  </app-mmodal>

  <!--Registrar comentario al rechazar habitación-->
  <app-mmodal
    [idModal]="'rechazarHotel'"
    [tipo]="7"
    [title]="'Detalle Hotel'"
    [hotel]="dataHotel"
    (onCommentDecline)="commetDecline($event)"
    #rechazarHotel
  >
  </app-mmodal>

  <app-modal-alerts
    [idModal]="'exitModal'"
    [icono]="'./assets/img/success.png'"
    [titulo]="'Validación Correcta'"
    (successModal)="onRefresh()"
    [descripcion]="message"
    [tipo]="0"
    #exitModal
  ></app-modal-alerts>

  <app-modal-alerts
    [idModal]="'errorModal'"
    [icono]="'./assets/img/warning.png'"
    [titulo]="'Error en la Validación'"
    [descripcion]="message"
    [tipo]="0"
    #errorModal
  ></app-modal-alerts>

  <app-modal-alerts
    [idModal]="'cModal'"
    [icono]="'./assets/img/success.png'"
    [titulo]="'Comentario registrado'"
    (successModal)="onRefresh()"
    [descripcion]="message"
    [tipo]="0"
    #cModal
  ></app-modal-alerts>

  <!--Política hotel-->
  <app-mmodal
    [idModal]="'politicaHotel'"
    [tipo]="9"
    [title]="'Politicas del hotel'"
    [hotel]="dataHotel"
    [policies]="dataPolicies"
    (onAprobatePolicies)="aprobatePolicies($event)"
    (onCommentPolicies)="commentPolicies($event)"
    #politicaHotel
  >
  </app-mmodal>

  <app-mmodal
    [idModal]="'rechazarPolicies'"
    [tipo]="11"
    [title]="'Detalle Hotel'"
    [hotel]="dataHotel"
    (onDeclinePolicies)="declinePolicies($event)"
    #rechazarPolicies
  >
  </app-mmodal>
  <app-footer></app-footer>

