<app-menu></app-menu>
<div class="w-100 d-flex mb-5 flex-column align-items-center justify-content-center">
  <div *ngIf="currentMembership" class="col-md-12 col-sm-12 card vacio">
    <div class="card-body text-center">
      <h5>Su membresía actual es {{currentMembership.name}}</h5>
      <span *ngIf="validDate">Válido hasta el: <b> {{validDate}} </b></span>
    </div>
  </div>

  <ng-container *ngIf="membresias">
   
    <div *ngIf="membresias.length > 0">
      <div class="w-100 d-flex flex-wrap justify-content-center ">
        <div *ngFor="let item of membresias" class="card p-0 mx-2 d-flex justify-content-center">
          <div class="card-header text-center text-white p-2 m-0 bg-warning">
            <h3>{{ item.name | uppercase }}</h3>
          </div>
          <div class="card-body">
            <div [innerHTML]="item.description"></div>
            <div *ngIf="item.code != 'BRONCE'" class="text-center mt-1 fs-4 fw-bold w-100 text-warning">{{ item.price |
              currency }}</div>
            <div *ngIf="item.code == 'BRONCE'" class="text-center mt-1 fs-4 fw-bold w-100 text-warning">{{'0' |
              currency}}</div>
          </div>
          <div data-bs-toggle="modal" data-bs-target="#warningModal" *ngIf="item.code != 'BRONCE'"
            class="card-footer d-flex aling-items-center justify-content-center">
            <button class="btn btn-warning text-white" (click)="setMembershipBuy(item)" type="button">
              COMPRAR
            </button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="membresias.length === 0">
      <div class="col-md-12 col-sm-12 card vacio">
        <div class="card-body text-center">
          <h4>No hay membresías disponibles</h4>
        </div>
      </div>
    </div>
  </ng-container>
  <br><br>

</div>

<div class="w-100 position-fixed bottom-0 ">
  <app-footer></app-footer>
</div>

<!-- ADVERTENCIA -->
<div class="modal" id="warningModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Comprar membresía</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p class="text-justify">¿Esta seguro/a de comprar la membresía?.</p>
      </div>
      <div class="form-group text-center">
        <button type="button" (click)="onBuyMembership()" class="btn input-btn">Aceptar</button>
      </div>
    </div>
  </div>
</div>

<app-modal-alerts [idModal]="'successBuyM'" [icono]="'./assets/img/success.png'" [titulo]="'Proceso Exitoso'"
  [descripcion]="message" (successModal)="onRedirigir()" [tipo]="0" #successBuyM></app-modal-alerts>

<app-modal-alerts [idModal]="'failBuyM'" [icono]="'./assets/img/fail.png'" [titulo]="'Proceso No Exitoso'"
  [descripcion]="message" [tipo]="0" #failBuyM></app-modal-alerts>